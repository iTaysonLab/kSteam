kSteam Core Persistence
---
Allows kSteam to persist data for optimized usage between sessions.

What is persisted:
- **Machine ID** as a randomly generated byte sequence for Steam sign-in packet
- **Autologin SteamID** to automatically restore session
- **Timezone** for network date correction in Steam Guard

kSteam also offers **Secure Settings**, a varying by platform approach to securely save very sensitive user information such as:
- Authorization access and refresh tokens
- Steam Guard data

These settings are backed up by platform's security subsystem and generally does not require any sort of additional configuration (key is automatically generated OR data is stored inside cloud-provided keystore).

### Platforms

| Platform  | Settings          | Secure Settings            |
|-----------|-------------------|----------------------------|
| Android   | SharedPreferences | EncryptedSharedPreferences |
| iOS/macOS | NSUserDefaults    | Apple Keychain             |
| JVM       | TODO              | TODO                       |
| Other*    | Memory            | Memory                     |
_* "Other" also means the default choice if Core Persistence is not configured_

**Android**: SharedPreferences for simple settings and AndroidX EncryptedSharedPreferences for authorization tokens and Steam Guard

**iOS/macOS**: Apple Keychain + NSUserDefaults

**Other**: Configuration file in working directory

### Installation

> If you are developing a multiplatform app, it is generally suggested to inject Core Persistence implementation by using a common DI library.

```kotlin
kSteam {
    // Android
    persistenceDriver = AndroidPeristenceDriver(applicationContext)
    
    // iOS/macOS
    // allowIdentitySynchronization ["true" by default] controls ability to synchronize sensitive data through iCloud
    persistenceDriver = ApplePersistenceDriver(allowIdentitySynchronization = false)
}
```

